#include <stdio.h>

int main(){
    int n,i,remain,bt[10],at[10],t,tq,re[10],flag;
    float awt=0,atat=0;
    printf("Enter the no of processes: ");
    scanf("%d",&n);
    remain=n;
    for(i=0;i<n;i++){
        printf("Enter the arrival time & burst time of process %d: ",i+1);
        scanf("%d%d",&at[i],&bt[i]);
        re[i]=bt[i];  
    }
    printf("Enter the time quantum: ");
    scanf("%d",&tq);
    
    for(t=0;i=0;remain!=0){
        if(re[i]<=tq && re[i]>0){
            t=t+re[i];
            re[i]=0;
            flag=1;
        }
        else if(re[i]>0){
            re[i]=re[i]-tq;
            t=t+re[i];
        }
        if(re[i]==0 && flag==1){
            remain--;
        awt+=t-at[i]-bt[i];
        atat+=t-at[i];
        flag=0;
        }
        if(i==n-1){
            i=0;
        }
        else if(at[i+1]<=t){
            i++;
        }
        else{
            i=0;
        }
    }
    
    awt=awt/n;
    atat=atat/n;
    printf("The average wating time = %f",awt);
    printf("\nThe average turn around time = %f",atat);
}
